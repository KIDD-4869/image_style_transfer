# 宫崎骏风格图片转换器

一个基于Python的Web应用，可以将普通图片转换为宫崎骏动画风格。

## 功能特点

- 🎨 **宫崎骏风格转换**：将普通图片转换为宫崎骏动画的柔和、温暖风格
- 🌟 **实时预览**：上传图片后立即看到转换效果
- 📱 **响应式界面**：支持桌面和移动设备
- 💾 **一键下载**：轻松保存转换后的图片
- 🚀 **快速处理**：基于优化的图像处理算法

## 技术实现

### 核心技术
- **OpenCV**：图像处理和计算机视觉
- **PyTorch**：深度学习框架（用于未来可能的模型扩展）
- **PIL/Pillow**：图像处理
- **Flask**：Web框架

### 风格转换算法
1. **色彩增强**：增强饱和度和亮度，创造宫崎骏风格的鲜艳色彩
2. **卡通化处理**：双边滤波和边缘检测，创造动画效果
3. **边缘柔化**：高斯模糊和图像混合，实现宫崎骏风格的柔和感
4. **温暖色调调整**：LAB色彩空间调整，增加温暖感

## 安装和运行

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 运行应用
```bash
# 方法1：使用启动脚本（推荐）
python run.py

# 方法2：直接运行
python app.py
```

### 3. 访问应用
应用将在浏览器中自动打开，或手动访问：http://localhost:5000

## 使用说明

1. **上传图片**：点击上传区域或拖拽图片文件
2. **开始转换**：点击"开始转换"按钮
3. **查看结果**：对比原图和转换后的效果
4. **下载保存**：点击"下载结果"保存图片

## 支持格式

- **输入格式**：JPG、PNG等常见图片格式
- **文件大小**：最大16MB
- **输出格式**：PNG（高质量）

## 项目结构

```
image_style_transfer/
├── app.py              # 主应用文件
├── run.py              # 启动脚本
├── requirements.txt    # 依赖包列表
├── templates/
│   └── index.html      # 网页模板
└── static/
    └── uploads/        # 上传文件目录
```

## 技术细节

### 图像处理流程
1. **预处理**：图像大小调整和格式转换
2. **色彩空间转换**：RGB ↔ HSV ↔ LAB 色彩空间转换
3. **风格处理**：
   - 饱和度增强（HSV空间）
   - 双边滤波（保留边缘）
   - 自适应阈值边缘检测
   - 高斯模糊柔化
   - 温暖色调调整（LAB空间）

### 未来扩展
- 支持更多动画风格（新海诚、迪士尼等）
- 基于深度学习的风格迁移
- 批量处理功能
- 参数自定义调节

## 注意事项

- 首次运行需要下载依赖包，请确保网络连接
- 处理大图片可能需要较长时间
- 建议使用Chrome、Firefox等现代浏览器

## 许可证

MIT License

---

**享受创造宫崎骏风格图片的乐趣！** 🎨✨